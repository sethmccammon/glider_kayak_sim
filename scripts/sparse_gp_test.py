
# %matplotlib inline
# %config InlineBackend.figure_format = 'svg'
import GPy, time, random, math, itertools
import numpy as np
import matplotlib as plt
import netCDF4 as nc

def main():
  N = 5000
  noise_var = 0.05
  dataset = nc.Dataset("../data/ca300m_das_2017100103.nc")


  current_u = dataset['u'][0,0,:,:]
  current_v = dataset['v'][0,0,:,:]
  temperature = dataset['temp'][0,0,:,:]
  salinity = dataset['salt'][0,0,:,:]
  
  lat = dataset['lat'][:]
  lon = np.array([x if x < 180. else x-360 for x in dataset['lon'][:]])
  depth = dataset['depth'][:]

  n_bound = np.max(lat)
  s_bound = np.min(lat)
  e_bound = np.max(lon)
  w_bound = np.min(lon)

  fig = plt.pyplot.figure()
  img = plt.pyplot.imshow(temperature, vmin=11., vmax=17., origin='lower', extent=[w_bound, e_bound, s_bound, n_bound])
  cbar = fig.colorbar(img)
  plt.pyplot.show()






  # X = []
  # Y = []
  # while len(X) < N:
  #   x = (np.random.randint(0, len(lat)), np.random.randint(0, len(lon)))
  #   if not temperature.mask[x]:
  #     X.append(x)
  #     Y.append(temperature[x])
  X =  [(36.4770217261553, -122.30031027147731), (36.48812998496061, -122.41797940014352), (36.4770217261553, -122.30031027147731), (36.48812998496061, -122.41797940014352), (36.47602192854216, -122.30021920669202), (36.48757886944699, -122.41882080407808), (36.47501897784377, -122.30013594898607), (36.48649371501507, -122.42049679037862), (36.474030642216256, -122.30004211188118), (36.48649371501507, -122.42049679037862), (36.47202953042006, -122.29988088139605), (36.48538401142644, -122.42217277851933), (36.47202953042006, -122.29988088139605), (36.48538401142644, -122.42217277851933), (36.47103751219737, -122.2998016618242), (36.484844598805935, -122.4230045842357), (36.470033168863104, -122.29971050934286), (36.48428856140244, -122.42383632805769), (36.46904292435176, -122.29963298846872), (36.4837534882167, -122.42468019316435), (36.467059785154404, -122.29947413212547), (36.4837534882167, -122.42468019316435), (36.467059785154404, -122.29947413212547), (36.48264546310489, -122.42635263094401), (36.46606453410788, -122.29938214429963), (36.48211119935323, -122.42719715881015), (36.465060714120725, -122.29930763442052), (36.481555569283486, -122.42801750795905), (36.46406036308558, -122.29921617795463), (36.481016124156554, -122.42885470956904), (36.4630765699166, -122.29912340955076), (36.48046065051375, -122.42969328358247), (36.46207749376657, -122.29904009179577), (36.47990955909467, -122.4305416115716), (36.46107568648293, -122.29896446759419), (36.479364728540766, -122.4313744769143), (36.46008401512349, -122.29888921952626), (36.47881015310856, -122.43220252676643), (36.458076872936445, -122.29870443544755), (36.479519078307064, -122.43148399734372), (36.458076872936445, -122.29870443544755), (36.48020599603937, -122.43076257014289), (36.4570908959541, -122.29862701326063), (36.4809102245282, -122.43005926096149), (36.45609267837927, -122.29854404276374), (36.48159826934384, -122.42932763152977), (36.45410671706073, -122.2983763999846), (36.48229782004953, -122.42862298652541), (36.45410671706073, -122.2983763999846), (36.48299706550866, -122.42788952887165), (36.45209917465829, -122.29821902253593), (36.48367723636613, -122.4271813175586), (36.45209917465829, -122.29821902253593), (36.48437672730452, -122.42644819899067), (36.45110774815106, -122.29812719661626), (36.48576244648068, -122.42502920806298), (36.44910705064926, -122.29795866808568), (36.486457607641995, -122.42430120478119), (36.44910705064926, -122.29795866808568), (36.48716204251816, -122.42358358397875), (36.44811984949482, -122.2978776298146), (36.48716204251816, -122.42358358397875), (36.447120512796495, -122.29778289298778), (36.48786096274684, -122.42286184375678), (36.44613129686699, -122.29770671037646), (36.48855300506541, -122.42213571170774), (36.44413824324196, -122.2975486521915), (36.48924216895417, -122.42143050072949), (36.44313278933542, -122.29746275362277), (36.48994798817229, -122.42069795597102), (36.44214858604835, -122.29737565422934), (36.49063427654956, -122.41998328761719), (36.44214858604835, -122.29737565422934), (36.49133727190753, -122.4192775000704), (36.4411426426653, -122.29729126698462), (36.49203302705573, -122.41854697459449), (36.43914332521667, -122.29713216256765), (36.492716879444046, -122.41783152735839), (36.43814845579932, -122.29703523674286), (36.493418649657464, -122.41710932444869), (36.43814845579932, -122.29703523674286), (36.494110649555495, -122.41638772554207), (36.43616389520387, -122.2968795601479), (36.49550007751726, -122.41496628101433), (36.43616389520387, -122.2968795601479), (36.49550007751726, -122.41496628101433), (36.435162531590464, -122.29679687792972), (36.49619952325891, -122.41423238203295), (36.43317026602259, -122.29662561189346), (36.49757941353583, -122.41280169538373), (36.43317026602259, -122.29662561189346), (36.49828739906455, -122.41209142079158), (36.43368548104274, -122.29748165473107), (36.498988175350775, -122.41136735161689), (36.43469346121681, -122.29921352464775), (36.498988175350775, -122.41136735161689), (36.43469346121681, -122.29921352464775), (36.500378584833705, -122.40992062128636), (36.43519684960906, -122.30007368148522), (36.500378584833705, -122.40992062128636), (36.436211671083136, -122.3017850015191), (36.50107480818365, -122.40921635304953), (36.436211671083136, -122.3017850015191), (36.50176898948859, -122.40847661550737), (36.43723851604355, -122.30351603670088), (36.50244691135599, -122.40775984596297), (36.437732939657735, -122.30438221430151), (36.50315600012573, -122.40704440028638), (36.43823893742781, -122.30523264641016), (36.503844716261, -122.40633249385859), (36.43875615334398, -122.306094687273), (36.504541300196074, -122.40561527082305), (36.43875615334398, -122.306094687273), (36.50522622152087, -122.40489569202452), (36.439271099312656, -122.30696533411604), (36.50592224187163, -122.40417853112983), (36.43976645447958, -122.30781931610447), (36.506622324242564, -122.40345863449302), (36.440281815709504, -122.30867746297191), (36.50731332730772, -122.40272785753443), (36.4407876611442, -122.3095539624182), (36.50870849576247, -122.40129314959759), (36.44129339138951, -122.31041392930615), (36.50870849576247, -122.40129314959759), (36.441806585075, -122.3112759485432), (36.50940661609339, -122.40057296316787), (36.442307587726205, -122.31214167853702), (36.51010150095682, -122.39986919024408), (36.44281705069542, -122.31300246814484), (36.51149560656662, -122.39842235264733), (36.4438194485219, -122.3147233520288), (36.51218275419773, -122.39769709517336), (36.444335704968225, -122.31558671917989), (36.51289204603967, -122.39699075021645), (36.44484571539864, -122.3164372575694), (36.51289204603967, -122.39699075021645), (36.445358711951265, -122.31730480956926), (36.513572835819694, -122.39627363793277), (36.445358711951265, -122.31730480956926), (36.51427473759124, -122.39554085207062), (36.445849244597625, -122.31817346249204), (36.51496262965231, -122.39482919540605), (36.44635718633311, -122.31902382229485), (36.51636925812022, -122.39338618545065), (36.446869838929516, -122.31989511046814), (36.51636925812022, -122.39338618545065), (36.44737413786797, -122.32075532703347), (36.51705249418701, -122.3926724687049), (36.447896924531875, -122.32160446350461), (36.51775372936975, -122.39195062426117), (36.44838550981944, -122.32248173047262), (36.51845338207755, -122.39123550653808), (36.449413631712474, -122.32419035671664), (36.51914472518989, -122.39051097306533), (36.44991069344398, -122.32505402138665), (36.51982768856787, -122.38979465834515), (36.44991069344398, -122.32505402138665), (36.520526459845186, -122.38907913586334), (36.45092358250474, -122.32677950271597), (36.52121869129035, -122.38836523324998), (36.45092358250474, -122.32677950271597), (36.52191900878606, -122.38763937188335), (36.451430202267424, -122.32763405837954), (36.522609306068695, -122.38691716389964), (36.45195069380434, -122.32850735528449), (36.523302996165604, -122.38620579350057), (36.452953231148456, -122.33023304701226), (36.524016493650144, -122.38548178100433), (36.45347113652632, -122.33109687583764), (36.52539441409262, -122.38405437582367), (36.453972006887454, -122.3319441467825), (36.52608582325699, -122.38332781296957), (36.453972006887454, -122.3319441467825), (36.52608582325699, -122.38332781296957), (36.45448865206586, -122.33280628386197), (36.526788820717094, -122.38260475568873), (36.45498231088269, -122.3336738001791), (36.52749084788874, -122.38188459830312), (36.455489687443986, -122.33454523266245), (36.528185377734594, -122.38118293909525), (36.456014083249364, -122.33540158361583), (36.528878797996434, -122.38044613992813), (36.45651026376063, -122.33625803380436), (36.45753093324706, -122.33799131829872), (36.53025525117403, -122.37901483614547), (36.53096458796891, -122.37829153650792), (36.45753093324706, -122.33799131829872), (36.53165552638791, -122.37757502992481), (36.4580406871097, -122.338842096599), (36.53165552638791, -122.37757502992481), (36.45854536480125, -122.33970670071653), (36.5323481002181, -122.37686929366342), (36.459051205183435, -122.34056210158504), (36.5337467168581, -122.37542573275886), (36.45956387853101, -122.34143405419348), (36.5337467168581, -122.37542573275886), (36.46058014298556, -122.34314650782548), (36.53443930123135, -122.37470605104848), (36.46058014298556, -122.34314650782548), (36.53513934716413, -122.37398957076219), (36.46108686608985, -122.34400891554203), (36.5365113307419, -122.37254091875457), (36.46158168524756, -122.34487680182525), (36.5372151440571, -122.37183344926005), (36.46208790711322, -122.34573359571209), (36.53790817254858, -122.37110408503517), (36.46259514042326, -122.34660411671341), (36.53790817254858, -122.37110408503517), (36.46310398253231, -122.34746803876597), (36.53861097915722, -122.37039884435714), (36.463621542577236, -122.34831608583227), (36.53930108770965, -122.36967958211241), (36.464114776823685, -122.34918274494878), (36.54069714029907, -122.3682251143829), (36.46514270169087, -122.35090373508707), (36.54069714029907, -122.3682251143829), (36.46564886693555, -122.35176620920521), (36.54139695460792, -122.36751529941341), (36.46564886693555, -122.35176620920521), (36.54207297546855, -122.36678761873958), (36.46614720949971, -122.35263347355021), (36.542781006012525, -122.3660811289464), (36.46665749156177, -122.35348974086932), (36.54348018246536, -122.36536247733461), (36.46716396563021, -122.35435103404498), (36.54416088215617, -122.36463267752782), (36.46818279948848, -122.3560755633435), (36.54486614519712, -122.36391741545215), (36.46869917439633, -122.35694580880684), (36.54626271086518, -122.36247851268912), (36.46919952571614, -122.35779274366787), (36.5469416303217, -122.36176517101812), (36.46919952571614, -122.35779274366787), (36.5469416303217, -122.36176517101812), (36.4697017493341, -122.35866502897926), (36.54764441131495, -122.36103917237254), (36.47022078148436, -122.35951921192897), (36.549031783772314, -122.35961333620529), (36.47072098695967, -122.36038478574663), (36.549031783772314, -122.35961333620529), (36.471229814999774, -122.36125652422677), (36.54973229389587, -122.35888734899471), (36.47173450331045, -122.36211465024314), (36.55042298387122, -122.35817374529995), (36.47225233119485, -122.36296744109994), (36.55112823003133, -122.35745107847298), (36.47325828003543, -122.36469943655189), (36.55250094282175, -122.35601103593491), (36.47325828003543, -122.36469943655189), (36.55321428400749, -122.35529194619922), (36.47375837622799, -122.36555129535083), (36.55321428400749, -122.35529194619922), (36.474278221397256, -122.36642632280918), (36.554602311393104, -122.35386052732962), (36.47477463397065, -122.36727595974314), (36.554602311393104, -122.35386052732962), (36.47528294700225, -122.36814294460927), (36.55529611956076, -122.35314250610587), (36.475798240087, -122.36900307015532), (36.555991930216386, -122.35242499594256), (36.47629520861524, -122.36986716954733), (36.556684083968236, -122.35170977490134), (36.4768058628844, -122.37071899339361), (36.55808069334735, -122.3502585192035), (36.477323232153225, -122.37159146707667), (36.55808069334735, -122.3502585192035), (36.477823800736815, -122.37245142297145), (36.55875891725695, -122.34954541676085), (36.47832937680361, -122.37330528742612), (36.55945717927759, -122.34883380413989), (36.479355412568395, -122.37503633180562), (36.56084790109807, -122.34738538789462), (36.479355412568395, -122.37503633180562), (36.56084790109807, -122.34738538789462), (36.479853439813574, -122.37590781252784), (36.56155533543036, -122.34666898589933), (36.480364041392114, -122.37676404737707), (36.56223480475198, -122.34594196753599), (36.480862555700256, -122.37762023865538), (36.563631854148376, -122.34450840067736), (36.481369408610426, -122.37848996298038), (36.563631854148376, -122.34450840067736), (36.481888268335496, -122.37935058654891), (36.565023051610126, -122.34308295131177), (36.48238714319003, -122.38021291894306), (36.565023051610126, -122.34308295131177), (36.482903289978005, -122.38107241277109), (36.56572458587723, -122.34235180699207), (36.48392104689588, -122.38279075226313), (36.56711936494012, -122.3409239068916), (36.48392104689588, -122.38279075226313), (36.56711936494012, -122.3409239068916), (36.4849310539099, -122.38451737375024), (36.5685070306617, -122.339487509439), (36.4849310539099, -122.38451737375024), (36.5685070306617, -122.339487509439), (36.485429093653686, -122.38537112082965), (36.569193068896084, -122.33875683022058), (36.48644014983526, -122.38710755477987), (36.56989767155293, -122.3380493791372), (36.486966492319574, -122.38795595094068), (36.570587242387454, -122.3373277581939), (36.486966492319574, -122.38795595094068), (36.57127327105469, -122.33660549097264), (36.487456582961386, -122.38881622860549), (36.5719774040706, -122.33588688341426), (36.487963850849596, -122.38968476270995), (36.57267654360351, -122.33516825085115), (36.48847649426517, -122.39054819960215), (36.5733733692349, -122.33445838374928), (36.488986121034806, -122.3914113830822), (36.57406211612594, -122.33372751209504), (36.489485118485554, -122.39227333432196), (36.57475591848007, -122.33302017654987), (36.48999822604041, -122.39312749488093), (36.575449961373806, -122.33229804337262), (36.491008486453666, -122.39486444054668), (36.57614182631168, -122.3315662448302), (36.49152134776576, -122.39572544312156), (36.57684848506036, -122.33085054949737), (36.49152134776576, -122.39572544312156), (36.578233660548484, -122.32942919394046), (36.49203231566917, -122.3965748568743), (36.578233660548484, -122.32942919394046), (36.49253548877389, -122.39744126293782), (36.579628668150264, -122.32798689982442), (36.49305514943945, -122.39831159773105), (36.579628668150264, -122.32798689982442), (36.49354543761698, -122.39915986769455), (36.580320867908114, -122.32726898525976), (36.494577449100845, -122.40089027871178), (36.581712909716806, -122.32583339503638), (36.494577449100845, -122.40089027871178), (36.581712909716806, -122.32583339503638), (36.495082178370865, -122.40175440906003), (36.58239980362544, -122.32509757576022), (36.49559114264879, -122.40260806665357), (36.58310601417836, -122.32439490824308), (36.49609838095357, -122.403473545579), (36.58379950994884, -122.32366051186084), (36.49660519770278, -122.40433531621211), (36.58450008965413, -122.32295284687204), (36.49710769231944, -122.40520056959092), (36.58450669715722, -122.32194604497771), (36.49761051260625, -122.40606754380882), (36.58452979437666, -122.32094942633728), (36.49861935746731, -122.40778216638984), (36.58453029263235, -122.31994884649666), (36.49861935746731, -122.40778216638984), (36.584559998986535, -122.31794289235734), (36.499638795060925, -122.40949918361164), (36.58457803050951, -122.31695172477187), (36.499638795060925, -122.40949918361164), (36.5845989331582, -122.31594776673549), (36.50014001395451, -122.41036962037902), (36.5845989331582, -122.31594776673549), (36.50065185384784, -122.41122167090597), (36.58462920782744, -122.31395347552737), (36.501170564315885, -122.41209516918825), (36.58463543521667, -122.31295688397246), (36.50167310758873, -122.41295550926523), (36.58463543521667, -122.31295688397246), (36.50217174924367, -122.41380796717202), (36.58465502651519, -122.31195729682341), (36.503184387830004, -122.41554219923765), (36.5846830026123, -122.30995448801048), (36.503184387830004, -122.41554219923765), (36.58469747472947, -122.30894191048506), (36.50370725409595, -122.41640041415617)]
  Y =  [14.923458099365234, 14.922966003417969, 14.925439834594727, 14.930679321289062, 14.927376747131348, 14.937582015991211, 14.931121826171875, 14.944581031799316, 14.934962272644043, 14.951303482055664, 14.93879508972168, 14.957856178283691, 14.94398021697998, 14.965239524841309, 14.949256896972656, 14.97286605834961, 14.954543113708496, 14.980286598205566, 14.957954406738281, 14.98028564453125, 14.96117877960205, 14.989583015441895, 14.964361190795898, 14.99370288848877, 14.964797973632812, 14.99776554107666, 14.964977264404297, 15.000728607177734, 14.965145111083984, 15.002402305603027, 14.962061882019043, 15.003597259521484, 14.958659172058105, 15.004270553588867, 14.9552640914917, 15.004382133483887, 14.949872970581055, 15.004199981689453, 14.944196701049805, 15.003496170043945, 14.93846321105957, 15.002193450927734, 14.929460525512695, 14.99929428100586, 14.920156478881836, 14.99589729309082, 14.910991668701172, 14.992051124572754, 14.902642250061035, 14.987639427185059, 14.894357681274414, 14.9823637008667, 14.886031150817871, 14.97623348236084, 14.877376556396484, 14.96975040435791, 14.868714332580566, 14.961936950683594, 14.860103607177734, 14.954435348510742, 14.853092193603516, 14.94696044921875, 14.84641170501709, 14.939129829406738, 14.839792251586914, 14.931974411010742, 14.83425235748291, 14.92526626586914, 14.828898429870605, 14.921630859375, 14.823524475097656, 14.91768741607666, 14.816587448120117, 14.91343879699707, 14.809370040893555, 14.909503936767578, 14.802196502685547, 14.908432006835938, 14.793699264526367, 14.909343719482422, 14.78491497039795, 14.910858154296875, 14.776137351989746, 14.912274360656738, 14.765304565429688, 14.914328575134277, 14.753938674926758, 14.918021202087402, 14.742528915405273, 14.921998977661133, 14.745696067810059, 14.927553176879883, 14.748605728149414, 14.93389892578125, 14.751633644104004, 14.940855026245117, 14.755919456481934, 14.947779655456543, 14.760122299194336, 14.954333305358887, 14.763591766357422, 14.96036434173584, 14.764833450317383, 14.967784881591797, 14.766168594360352, 14.97542953491211, 14.768174171447754, 14.982976913452148, 14.77052116394043, 14.990022659301758, 14.771685600280762, 14.997941017150879, 14.771833419799805, 15.008232116699219, 14.77202320098877, 15.020615577697754, 14.774215698242188, 15.03281307220459, 14.776839256286621, 15.044305801391602, 14.779362678527832, 15.056297302246094, 14.781975746154785, 15.066499710083008, 14.784656524658203, 15.075873374938965, 14.78730583190918, 15.085511207580566, 14.790111541748047, 15.096358299255371, 14.792181015014648, 15.109501838684082, 14.794157981872559, 15.12458610534668, 14.796260833740234, 15.139930725097656, 14.797992706298828, 15.154890060424805, 14.79951000213623, 15.168169975280762, 14.800714492797852, 15.179136276245117, 14.801605224609375, 15.190324783325195, 14.804306030273438, 15.201539039611816, 14.80797290802002, 15.211552619934082, 14.812431335449219, 15.223166465759277, 14.815816879272461, 15.235123634338379, 14.817841529846191, 15.247424125671387, 14.819869041442871, 15.258076667785645, 14.821900367736816, 15.266312599182129, 14.82427978515625, 15.274359703063965, 14.82689094543457, 15.282369613647461, 14.828858375549316, 15.289900779724121, 14.830554962158203, 15.296157836914062, 14.832701683044434, 15.301874160766602, 14.8349027633667, 15.3071870803833, 14.837154388427734, 15.312370300292969, 14.83915901184082, 15.319619178771973, 14.840907096862793, 15.326652526855469, 14.842389106750488, 15.332708358764648, 14.843276977539062, 15.337789535522461, 14.84355354309082, 15.341842651367188, 14.843640327453613, 14.843390464782715, 15.34541130065918, 15.349308013916016, 14.84364128112793, 15.353537559509277, 14.843485832214355, 15.359939575195312, 14.84288501739502, 15.368659973144531, 14.842409133911133, 15.377367973327637, 14.84231948852539, 15.386068344116211, 14.842183113098145, 15.394489288330078, 14.841906547546387, 15.3991117477417, 14.841540336608887, 15.404088973999023, 14.84095287322998, 15.409422874450684, 14.8401460647583, 15.415112495422363, 14.839083671569824, 15.427694320678711, 14.83781909942627, 15.441671371459961, 14.836540222167969, 15.456276893615723, 14.835248947143555, 15.47148609161377, 14.833905220031738, 15.487238883972168, 14.832372665405273, 15.50383186340332, 14.83072566986084, 15.520392417907715, 14.82937240600586, 15.53691577911377, 14.82819652557373, 15.554173469543457, 14.82699966430664, 15.571762084960938, 14.825798988342285, 15.590784072875977, 14.824734687805176, 15.611246109008789, 14.823901176452637, 15.63300609588623, 14.823371887207031, 15.660006523132324, 14.823163986206055, 15.686633110046387, 14.823309898376465, 15.712708473205566, 14.823511123657227, 15.737171173095703, 14.823738098144531, 15.753503799438477, 14.823810577392578, 15.770155906677246, 14.824052810668945, 15.789361000061035, 14.824350357055664, 15.811104774475098, 14.824584007263184, 15.833396911621094, 14.824692726135254, 15.85336971282959, 14.824722290039062, 15.874186515808105, 14.825343132019043, 15.895848274230957, 14.826263427734375, 15.909812927246094, 14.826796531677246, 15.918421745300293, 14.826943397521973, 15.92883586883545, 14.827869415283203, 15.941056251525879, 14.829209327697754, 15.957468032836914, 14.831066131591797, 15.972567558288574, 14.832803726196289, 15.986196517944336, 14.83427906036377, 15.999564170837402, 14.835494995117188, 16.010318756103516, 14.836450576782227, 16.018383026123047, 14.83707332611084, 16.026206970214844, 14.83838176727295, 16.033559799194336, 14.839780807495117, 16.04159927368164, 14.841182708740234, 16.052165985107422, 14.84276294708252, 16.060726165771484, 14.843728065490723, 16.06957244873047, 14.844078063964844, 16.078449249267578, 14.846452713012695, 16.085262298583984, 14.848857879638672, 16.090749740600586, 14.850639343261719, 16.095767974853516, 14.851767539978027, 16.100513458251953, 14.852462768554688, 16.104782104492188, 14.852972030639648, 16.108903884887695, 14.855074882507324, 16.11296272277832, 14.856915473937988, 16.117717742919922, 14.858400344848633, 16.12446403503418, 14.859587669372559, 16.131473541259766, 14.860980033874512, 16.13614845275879, 14.863317489624023, 16.14010238647461, 14.866202354431152, 16.142475128173828, 14.86896800994873, 16.144498825073242, 14.871726036071777, 16.14887809753418, 14.874608993530273, 16.15369415283203, 14.877613067626953, 16.159622192382812, 14.880289077758789, 16.16688346862793, 14.882442474365234, 16.173255920410156, 14.884921073913574, 16.178789138793945, 14.887726783752441, 16.183561325073242, 14.89210033416748, 16.18622398376465, 14.896306037902832, 16.188589096069336, 14.900150299072266, 16.189680099487305, 14.90462589263916, 16.19049835205078, 14.910898208618164, 16.184574127197266, 14.918011665344238, 16.17865753173828, 14.925966262817383, 16.17285919189453, 14.931486129760742, 16.168506622314453, 14.936220169067383, 16.164152145385742, 14.940667152404785, 16.159414291381836, 14.945603370666504, 16.14925765991211, 14.950711250305176, 16.139102935791016, 14.95583724975586, 16.12934684753418, 14.960983276367188, 16.124616622924805, 14.969829559326172, 16.11988067626953, 14.980378150939941, 16.115013122558594, 14.991082191467285, 16.108434677124023, 15.00144100189209, 16.101831436157227, 15.011237144470215]
  lon =  [-122.74899292, -122.74598694, -122.74299622, -122.73999023, -122.73699951, -122.73399353, -122.73098755, -122.72799683, -122.72499084, -122.72200012, -122.71899414, -122.71598816, -122.71299744, -122.70999146, -122.70698547, -122.70399475, -122.70098877, -122.69799805, -122.69499207, -122.69198608, -122.68899536, -122.68598938, -122.68299866, -122.67999268, -122.67698669, -122.67399597, -122.67098999, -122.66799927, -122.66499329, -122.6619873, -122.65899658, -122.6559906,  -122.65299988, -122.6499939,  -122.64698792, -122.64399719, -122.64099121, -122.63800049, -122.63499451, -122.63198853, -122.6289978,  -122.62599182, -122.62298584, -122.61999512, -122.61698914, -122.61399841, -122.61099243, -122.60798645, -122.60499573, -122.60198975, -122.59899902, -122.59599304, -122.59298706, -122.58999634, -122.58699036, -122.58399963, -122.58099365, -122.57798767, -122.57499695, -122.57199097, -122.56900024, -122.56599426, -122.56298828, -122.55999756, -122.55699158, -122.5539856,  -122.55099487, -122.54798889, -122.54499817, -122.54199219, -122.53898621, -122.53599548, -122.5329895,  -122.52999878, -122.5269928, -122.52398682, -122.52099609, -122.51799011, -122.51499939, -122.51199341, -122.50898743, -122.5059967,  -122.50299072, -122.5,        -122.49699402, -122.49398804, -122.49099731, -122.48799133, -122.48498535, -122.48199463, -122.47898865, -122.47599792, -122.47299194, -122.46998596, -122.46699524, -122.46398926, -122.46099854, -122.45799255, -122.45498657, -122.45199585, -122.44898987, -122.44599915, -122.44299316, -122.43998718, -122.43699646, -122.43399048, -122.43099976, -122.42799377, -122.42498779, -122.42199707, -122.41899109, -122.41600037, -122.41299438, -122.4099884,  -122.40699768, -122.4039917,  -122.40098572, -122.397995,   -122.39498901, -122.39199829, -122.38899231, -122.38598633, -122.38299561, -122.37998962, -122.3769989, -122.37399292, -122.37098694, -122.36799622, -122.36499023, -122.36199951, -122.35899353, -122.35598755, -122.35299683, -122.34999084, -122.34700012, -122.34399414, -122.34098816, -122.33799744, -122.33499146, -122.33198547, -122.32899475, -122.32598877, -122.32299805, -122.31999207, -122.31698608, -122.31399536, -122.31098938, -122.30799866, -122.30499268, -122.30198669, -122.29899597, -122.29598999, -122.29299927, -122.28999329, -122.2869873, -122.28399658, -122.2809906,  -122.27799988, -122.2749939,  -122.27198792, -122.26899719, -122.26599121, -122.26300049, -122.25999451, -122.25698853, -122.2539978,  -122.25099182, -122.24798584, -122.24499512, -122.24198914, -122.23899841, -122.23599243, -122.23298645, -122.22999573, -122.22698975, -122.22399902, -122.22099304, -122.21798706, -122.21499634, -122.21199036, -122.20899963, -122.20599365, -122.20298767, -122.19999695, -122.19699097, -122.19400024, -122.19099426, -122.18798828, -122.18499756, -122.18199158, -122.1789856,  -122.17599487, -122.17298889, -122.16999817, -122.16699219, -122.16398621, -122.16099548, -122.1579895,  -122.15499878, -122.1519928, -122.14898682, -122.14599609, -122.14299011, -122.13999939, -122.13699341, -122.13398743, -122.1309967,  -122.12799072, -122.125,      -122.12199402, -122.11898804, -122.11599731, -122.11299133, -122.10998535, -122.10699463, -122.10398865, -122.10099792, -122.09799194, -122.09498596, -122.09199524, -122.08898926, -122.08599854, -122.08299255, -122.07998657, -122.07699585, -122.07398987, -122.07099915, -122.06799316, -122.06498718, -122.06199646, -122.05899048, -122.05599976, -122.05299377, -122.04998779, -122.04699707, -122.04399109, -122.04100037, -122.03799438, -122.0349884,  -122.03199768, -122.0289917,  -122.02598572, -122.022995,   -122.01998901, -122.01699829, -122.01399231, -122.01098633, -122.00799561, -122.00498962, -122.0019989, -121.99899292, -121.99598694, -121.99299622, -121.98999023, -121.98699951, -121.98399353, -121.98098755, -121.97799683, -121.97499084, -121.97200012, -121.96899414, -121.96598816, -121.96299744, -121.95999146, -121.95698547, -121.95399475, -121.95098877, -121.94799805, -121.94499207, -121.94198608, -121.93899536, -121.93598938, -121.93299866, -121.92999268, -121.92698669, -121.92399597, -121.92098999, -121.91799927, -121.91499329, -121.9119873, -121.90899658, -121.9059906,  -121.90299988, -121.8999939,  -121.89698792, -121.89399719, -121.89099121, -121.88800049, -121.88499451, -121.88198853, -121.8789978,  -121.87599182, -121.87298584, -121.86999512, -121.86698914, -121.86399841, -121.86099243, -121.85798645, -121.85499573, -121.85198975, -121.84899902, -121.84599304, -121.84298706, -121.83999634, -121.83699036, -121.83399963, -121.83099365, -121.82798767, -121.82499695, -121.82199097, -121.81900024, -121.81599426, -121.81298828, -121.80999756, -121.80699158, -121.8039856,  -121.80099487, -121.79798889, -121.79499817, -121.79199219, -121.78898621, -121.78599548, -121.7829895,  -121.77999878, -121.7769928, -121.77398682]
  lat =  [ 36.40000153,  36.40299988,  36.40600204,  36.4090004,   36.41200256,  36.41500092,  36.41800308,  36.42100143,  36.42399979,  36.42700195,36.43000031,  36.43300247,  36.43600082,  36.43900299,  36.44200134,36.44499969,  36.44800186,  36.45100021,  36.45400238,  36.45700073,36.4600029,   36.46300125,  36.46600342,  36.46900177,  36.47200012,36.47500229,  36.47800064,  36.48100281,  36.48400116,  36.48700333,36.49000168,  36.49300003,  36.4960022,   36.49900055,  36.50200272,36.50500107,  36.50800323,  36.51100159,  36.51399994,  36.51700211,36.52000046,  36.52300262,  36.52600098,  36.52900314,  36.5320015,36.53499985,  36.53800201,  36.54100037,  36.54400253,  36.54700089,36.55000305,  36.5530014,   36.55599976,  36.55900192,  36.56200027,36.56500244,  36.56800079,  36.57100296,  36.57400131,  36.57699966,36.58000183,  36.58300018,  36.58600235,  36.5890007,   36.59200287,36.59500122,  36.59800339,  36.60100174,  36.60400009,  36.60700226, 36.61000061,  36.61300278,  36.61600113,  36.6190033,   36.62200165,  36.625, 36.62800217,  36.63100052,  36.63400269,  36.63700104,  36.6400032, 36.64300156,  36.64599991,  36.64900208,  36.65200043,  36.65500259, 36.65800095,  36.66100311,  36.66400146,  36.66699982,  36.67000198, 36.67300034,  36.6760025,   36.67900085,  36.68200302,  36.68500137, 36.68799973,  36.69100189,  36.69400024,  36.69700241,  36.70000076, 36.70300293,  36.70600128,  36.70899963,  36.7120018,   36.71500015, 36.71800232,  36.72100067,  36.72400284,  36.72700119,  36.73000336, 36.73300171,  36.73600006,  36.73900223,  36.74200058,  36.74500275, 36.7480011,   36.75100327,  36.75400162,  36.75699997,  36.76000214, 36.76300049,  36.76600266,  36.76900101,  36.77200317,  36.77500153, 36.77799988,  36.78100204,  36.7840004,   36.78700256,  36.79000092, 36.79300308,  36.79600143,  36.79899979,  36.80200195,  36.80500031, 36.80800247,  36.81100082,  36.81400299,  36.81700134,  36.81999969, 36.82300186,  36.82600021,  36.82900238,  36.83200073,  36.8350029, 36.83800125,  36.84100342,  36.84400177,  36.84700012,  36.85000229, 36.85300064,  36.85600281,  36.85900116,  36.86200333,  36.86500168, 36.86800003,  36.8710022,   36.87400055,  36.87700272,  36.88000107, 36.88300323,  36.88600159,  36.88899994,  36.89200211,  36.89500046, 36.89800262,  36.90100098,  36.90400314,  36.9070015,   36.90999985, 36.91300201,  36.91600037,  36.91900253,  36.92200089,  36.92500305, 36.9280014,   36.93099976,  36.93400192,  36.93700027,  36.94000244, 36.94300079,  36.94600296,  36.94900131,  36.95199966,  36.95500183, 36.95800018,  36.96100235,  36.9640007,   36.96700287,  36.97000122, 36.97300339,  36.97600174,  36.97900009,  36.98200226,  36.98500061, 36.98800278,  36.99100113,  36.9940033,   36.99700165,  37.,          37.00300217, 37.00600052,  37.00900269,  37.01200104,  37.0150032,   37.01800156, 37.02099991,  37.02400208,  37.02700043,  37.03000259,  37.03300095, 37.03600311,  37.03900146,  37.04199982,  37.04500198,]


  X = np.array(X).reshape((len(X), 2))
  Y = np.array(Y).reshape((len(X), 1))


  # start_time = time.time()
  # k = GPy.kern.RBF(input_dim = 2, variance = .01, lengthscale = .01, ARD=True)
  # m = GPy.models.SparseGPRegression(X,Y,k,num_inducing=20)
  
  # # m.optimize('bfgs')
  # # m.plot()
  # # print time.time()-start_time

  # # start_time = time.time()
  # m.Z.unconstrain()
  # m.optimize('bfgs')

  # query = np.array(list(itertools.product(lat, lon)))

  # print query[0]

  # zz = m.predict(np.array(query))
  # prediction_mean = np.array(zz[0]).reshape((len(lat), len(lon)))

  # res = np.ma.array(prediction_mean, mask=temperature.mask)
  # plt.pyplot.imshow(res)
  # plt.pyplot.show()
  # m.plot()

  # print m

  # print time.time()-start_time

  # plt.pylab.show(block=True) 


  # X = np.array([[random.random()*10, random.random()*10] for idx in range(N)])
  # y = np.array([math.sin(x[0])+math.cos(x[1]) + random.random()*.1 for x in X])
  # start_time = time.time()
  # # X = np.array([random.random()*10 for idx in range(N)])[:,None]  #np.linspace(0,10,N)[:,None]
  # #GPy.kern.RBF(input_dim = 2, variance = .005, lengthscale = .001, ARD=True)
  # # y = np.random.multivariate_normal(np.zeros(N),k.K(X)+np.eye(N)*np.sqrt(noise_var)).reshape(-1,1)

  # m_full = GPy.models.GPRegression(X,y,k)
  # m_full.optimize('bfgs')
  # m_full.plot()
  # print time.time()-start_time
  # plt.pylab.show(block=True) 


  # bounds = [10, 0, 10, 0]

  # size =100
  # lon_samples = np.linspace(0, 10, size)
  # lat_samples = np.linspace(0, 10, size)



  # query = np.array(list(itertools.product(lon_samples, lat_samples)))

  # zz = m_full.predict(np.array(query))

  # prediction_mean = np.array(zz[0]).reshape((size, size))
  # matplotlib.pyplot.imshow(prediction_mean)
  # matplotlib.pyplot.show()

  # start_time = time.time()
  # Z = np.hstack((np.linspace(2.5,4.,3),np.linspace(7,8.5,3)))[:,None]
  # m = GPy.models.SparseGPRegression(X,y,Z=Z)
  # m.likelihood.variance = noise_var
  # m.plot()
  # print time.time()-start_time

  # start_time = time.time()
  # m.inducing_inputs.fix()
  # m.optimize('bfgs')
  # m.plot()
  # print time.time()-start_time

  # start_time = time.time()
  # m.randomize()
  # m.Z.unconstrain()
  # m.optimize('bfgs')
  # m.plot()
  # print time.time()-start_time




if __name__ == '__main__':
  main()